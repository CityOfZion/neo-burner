{"ast":null,"code":"var _jsxFileName = \"/home/fet/nwd/neo-burner/web/src/components/App/Wallets.js\";\nimport React, { Component } from 'react';\nimport { Jumbotron, Button, Form, FormGroup, Input, Container, ButtonGroup } from 'reactstrap';\nimport FlashButton from '../Ui/FlashButton/FlashButton';\nimport util from 'util';\n\nconst electron = window.require('electron');\n\nclass Wallets extends Component {\n  constructor(props) {\n    super(props);\n    this.goToAccounts = this.goToAccounts.bind(this);\n    this.setFolder = this.setFolder.bind(this);\n    this.createPdf = this.createPdf.bind(this);\n    this.viewPdf = this.viewPdf.bind(this);\n    this.customizePdf = this.customizePdf.bind(this);\n    this.resetTemplatePath = this.resetTemplatePath.bind(this); // this.currentModalBody = this.currentModalBody.bind(this)\n    // TODO Refactor state/prop management\n\n    this.state = {\n      folder: this.props.folder,\n      filename: this.props.filename,\n      templatePath: this.props.templatePath,\n      generatingPdf: false,\n      pdfExists: false,\n      currentModal: '',\n      nextButtonText: 'Next',\n      nextModalClick: '',\n      cancelButtonText: 'Cancel',\n      cancelModalClick: '',\n      modalBody: ''\n    };\n  }\n\n  componentDidMount() {\n    // console.log('config: '+util.inspect(this.props.config, {depth: null}))\n    console.log('templatePath: ' + this.props.templatePath);\n    this.setState({\n      folder: this.props.folder,\n      pdfExists: this.props.pdfExists\n    });\n    electron.ipcRenderer.on('pdf-created', (event, arg) => {\n      console.log('ipc pdf-created');\n      this.props.setPdfPath(this.state.folder + '/', this.state.filename);\n      this.setState({\n        generatingPdf: false,\n        pdfExists: true\n      });\n      this.props.history.push('Wallets');\n    });\n  }\n\n  goToAccounts() {\n    this.props.history.push('Accounts');\n  }\n\n  setFolder(e) {\n    this.setState({\n      folder: document.getElementsByTagName('input')[0].files[0].path\n    });\n    this.props.setFolder(document.getElementsByTagName('input')[0].files[0].path);\n  }\n\n  createPdf() {\n    this.setState({\n      generatingPdf: true\n    });\n    this.props.setPdfPath(this.state.folder + '/', this.state.filename);\n    this.props.history.push('Wallets');\n    let templatePath;\n    if (this.props.templatePath) templatePath = this.props.templatePath;else templatePath = this.props.config.userData + '/'; // this.props.history.push('PDF')\n\n    window.ipcRenderer.send('create-pdf', {\n      pdfPath: this.state.folder + '/',\n      filename: this.state.filename,\n      templatePath: templatePath,\n      data: this.props.accounts\n    });\n    console.log('wallet folder: ' + this.state.folder + '/' + this.state.filename);\n  }\n\n  viewPdf() {\n    this.props.history.push('PDF');\n  }\n\n  customizePdf() {\n    this.props.history.push('CopyHtmlTemplate');\n  }\n\n  nextModal() {\n    console.log('nextClick');\n  }\n\n  resetTemplatePath() {\n    this.props.setTemplatePath(this.props.config.userData + '/');\n  }\n\n  render() {\n    if (this.props.accounts.length) {\n      console.log('got ' + this.props.accounts.length + ' accounts');\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        className: \"vertical-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container hero-container text-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Wallets \"), React.createElement(\"p\", {\n        className: \"lead\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Found \", this.props.accounts.length, \" accounts.\"), React.createElement(Container, {\n        className: \"p-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Form, {\n        id: \"accountsFormLeft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"upload_button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        directory: \"\",\n        webkitdirectory: \"\",\n        type: \"file\",\n        id: \"ma\",\n        onChange: e => this.setFolder(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"btn btn-primary\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"PDF Output Path\"), React.createElement(\"span\", {\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, ' ' + this.state.folder))), React.createElement(Input, {\n        style: {\n          width: \"400px\"\n        },\n        type: \"text\",\n        name: \"text\",\n        placeholder: \"File Name\",\n        value: this.state.filename,\n        onChange: e => this.setState({\n          filename: e.target.value\n        }),\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(FlashButton, {\n        buttonLabel: \"Create PDF\",\n        title: 'Burner Notice',\n        message: 'Please wait while a PDF containing ' + this.props.accounts.length + ' wallets is being generated at ' + this.state.folder + '/' + this.state.filename,\n        open: this.state.generatingPdf,\n        onClick: this.createPdf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), this.state.pdfExists ? React.createElement(Button, {\n        onClick: this.viewPdf,\n        color: \"warning\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"View PDF\") : '')), React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.customizePdf,\n        color: \"warning\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Set Template Path\"), React.createElement(Button, {\n        onClick: this.resetTemplatePath,\n        color: \"warning\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Reset Template Path\")), React.createElement(\"div\", {\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Template Path: \", this.props.templatePath ? this.props.templatePath : this.props.config.userData + '/'))))));\n    } else {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        className: \"vertical-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container hero-container text-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Wallets \"), React.createElement(\"p\", {\n        className: \"lead\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Found \", this.props.accounts.length, \" accounts.\"), React.createElement(\"hr\", {\n        className: \"my-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"lead mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: this.goToAccounts,\n        color: \"warning\",\n        id: \"fourteenFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Go To Accounts\"))));\n    }\n  }\n\n}\n\nexport default Wallets; // <UploadHtmlTemplateModal config={this.props.config} folder={this.props.folder} />\n// <DownloadHtmlTemplateModal config={this.props.config} folder={this.props.folder} />","map":{"version":3,"sources":["/home/fet/nwd/neo-burner/web/src/components/App/Wallets.js"],"names":["React","Component","Jumbotron","Button","Form","FormGroup","Input","Container","ButtonGroup","FlashButton","util","electron","window","require","Wallets","constructor","props","goToAccounts","bind","setFolder","createPdf","viewPdf","customizePdf","resetTemplatePath","state","folder","filename","templatePath","generatingPdf","pdfExists","currentModal","nextButtonText","nextModalClick","cancelButtonText","cancelModalClick","modalBody","componentDidMount","console","log","setState","ipcRenderer","on","event","arg","setPdfPath","history","push","e","document","getElementsByTagName","files","path","config","userData","send","pdfPath","data","accounts","nextModal","setTemplatePath","render","length","width","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Jumbotron, Button, Form, FormGroup, Input, Container, ButtonGroup } from 'reactstrap'\nimport FlashButton from '../Ui/FlashButton/FlashButton'\n\nimport util from 'util'\n\nconst electron = window.require('electron')\n\nclass Wallets extends Component {\n  constructor(props) {\n    super(props)\n\n    this.goToAccounts = this.goToAccounts.bind(this)\n    this.setFolder = this.setFolder.bind(this)\n    this.createPdf = this.createPdf.bind(this)\n    this.viewPdf = this.viewPdf.bind(this)\n    this.customizePdf = this.customizePdf.bind(this)\n    this.resetTemplatePath = this.resetTemplatePath.bind(this)\n    // this.currentModalBody = this.currentModalBody.bind(this)\n\n    // TODO Refactor state/prop management\n\n    this.state = {\n      folder: this.props.folder,\n      filename: this.props.filename,\n      templatePath: this.props.templatePath,\n      generatingPdf: false,\n      pdfExists: false,\n      currentModal: '',\n      nextButtonText: 'Next',\n      nextModalClick: '',\n      cancelButtonText: 'Cancel',\n      cancelModalClick: '',\n      modalBody: ''\n    }\n  }\n\n  componentDidMount() {\n    // console.log('config: '+util.inspect(this.props.config, {depth: null}))\n    console.log('templatePath: '+this.props.templatePath)\n    this.setState({ folder: this.props.folder, pdfExists: this.props.pdfExists })\n\n    electron.ipcRenderer.on('pdf-created', (event, arg) => {\n      console.log('ipc pdf-created')\n      this.props.setPdfPath(this.state.folder+'/', this.state.filename)\n      this.setState({\n        generatingPdf: false,\n        pdfExists: true\n      })\n      this.props.history.push('Wallets')\n    })\n  }\n\n  goToAccounts() {\n    this.props.history.push('Accounts')\n  }\n\n  setFolder(e) {\n    this.setState({ folder: document.getElementsByTagName('input')[0].files[0].path })\n    this.props.setFolder(document.getElementsByTagName('input')[0].files[0].path)\n  }\n\n  createPdf() {\n    this.setState({ generatingPdf: true })\n    this.props.setPdfPath(this.state.folder+'/', this.state.filename)\n    this.props.history.push('Wallets')\n    let templatePath\n    if (this.props.templatePath) templatePath = this.props.templatePath\n    else templatePath = this.props.config.userData+'/'\n    // this.props.history.push('PDF')\n    window.ipcRenderer.send('create-pdf', { pdfPath: this.state.folder+'/', filename: this.state.filename, templatePath: templatePath, data: this.props.accounts })\n    console.log('wallet folder: '+this.state.folder+'/'+this.state.filename)\n  }\n\n  viewPdf() {\n    this.props.history.push('PDF')\n  }\n\n  customizePdf() {\n    this.props.history.push('CopyHtmlTemplate')\n  }\n\n  nextModal() {\n    console.log('nextClick')\n  }\n\n  resetTemplatePath(){\n    this.props.setTemplatePath(this.props.config.userData+'/')\n  }\n\n  render() {\n    if (this.props.accounts.length) {\n      console.log('got '+this.props.accounts.length+' accounts')\n      return(\n        <React.Fragment>\n          <Jumbotron className=\"vertical-center\" id=\"ma\">\n          <div className=\"container hero-container text-center\" id=\"ma\">\n            <h2 className=\"display-4\">Wallets </h2>\n            <p className=\"lead\" id=\"fourteenFont\">Found {this.props.accounts.length} accounts.</p>\n              <Container className=\"p-5\">\n                <Form id=\"accountsFormLeft\">\n                  <FormGroup id=\"fourteenFont\">\n                    <div id=\"upload_button\">\n                      <label id=\"fourteenFont\">\n                        <input directory=\"\" webkitdirectory=\"\" type=\"file\" id=\"ma\"\n                          onChange={e => this.setFolder(e)}\n                          />\n                        <span className=\"btn btn-primary\" id=\"fourteenFont\">PDF Output Path</span>\n                        <span id=\"fourteenFont\">{' '+this.state.folder}</span>\n                      </label>\n                    </div>\n                    <Input\n                      style={{width: \"400px\"}}\n                      type=\"text\"\n                      name=\"text\"\n                      placeholder=\"File Name\"\n                      value={this.state.filename}\n                      onChange={e => this.setState({ filename: e.target.value })}\n                      id=\"fourteenFont\"\n                    />\n                    <br/>\n                    <ButtonGroup>\n                    <FlashButton buttonLabel='Create PDF' title={'Burner Notice'} message={'Please wait while a PDF containing '+this.props.accounts.length+' wallets is being generated at '+this.state.folder+'/'+this.state.filename} open={this.state.generatingPdf} onClick={this.createPdf}/>\n                    {this.state.pdfExists ? <Button onClick={this.viewPdf} color=\"warning\" id=\"fourteenFont\">View PDF</Button> : ''}\n                    </ButtonGroup>\n                  </FormGroup>\n                  <ButtonGroup>\n                    <Button onClick={this.customizePdf} color=\"warning\"  id=\"fourteenFont\">Set Template Path</Button>\n                    <Button onClick={this.resetTemplatePath} color=\"warning\" id=\"fourteenFont\">Reset Template Path</Button>\n                  </ButtonGroup>\n                  <div id=\"fourteenFont\">\n                  Template Path: {this.props.templatePath ? this.props.templatePath : this.props.config.userData+'/' }\n                  </div>\n                </Form>\n              </Container>\n          </div>\n          </Jumbotron>\n        </React.Fragment>\n      )\n    } else {\n      return(\n        <React.Fragment>\n          <Jumbotron className=\"vertical-center\" id=\"ma\">\n          <div className=\"container hero-container text-center\" id=\"ma\">\n            <h2 className=\"display-4\">Wallets </h2>\n            <p className=\"lead\" id=\"fourteenFont\">Found {this.props.accounts.length} accounts.</p>\n            <hr className=\"my-4\" />\n            <p className=\"lead mx-auto\">\n            </p>\n            <Button onClick={this.goToAccounts} color=\"warning\" id=\"fourteenFont\">Go To Accounts</Button>\n          </div>\n          </Jumbotron>\n        </React.Fragment>\n      )\n    }\n  }\n}\nexport default Wallets\n// <UploadHtmlTemplateModal config={this.props.config} folder={this.props.folder} />\n// <DownloadHtmlTemplateModal config={this.props.config} folder={this.props.folder} />\n"]},"metadata":{},"sourceType":"module"}