{"ast":null,"code":"var _jsxFileName = \"/home/fet/nwd/neo-burner/src/components/Ui/Main/Main.js\";\nimport React, { Component } from 'react';\nimport HeaderControls from '../HeaderControls/HeaderControls';\nimport VerticalNav from '../VerticalNav/VerticalNav';\nimport InstallerHome from '../../Installer/Home';\nimport Accounts from '../../App/Accounts';\nimport Wallets from '../../App/Wallets';\nimport About from '../../App/About';\nimport New from '../../App/New';\nimport Import from '../../App/Import';\nimport Export from '../../App/Export';\nimport Report from '../../App/Report';\nimport Events from '../../App/Events';\nimport Home from '../../App/Home';\nimport Settings from '../../App/Settings';\nimport PDF from '../../App/PDF';\nimport CopyHtmlTemplateModal from '../../App/CopyHtmlTemplate';\nimport UploadHtmlTemplateModal from '../../App/UploadHtmlTemplate';\nimport Footer from '../../Ui/Main/Footer';\nimport util from 'util'; // import './style.css'\n\nconst electron = window.require('electron');\n\nclass AppMain extends Component {\n  constructor(props) {\n    super(props);\n    this.leftPaneToggleHidden = this.leftPaneToggleHidden.bind(this);\n    this.toggleVerticalNavRollup = this.toggleVerticalNavRollup.bind(this);\n    this.setAccounts = this.setAccounts.bind(this);\n    this.clearAccounts = this.clearAccounts.bind(this);\n    this.setPdfPath = this.setPdfPath.bind(this);\n    this.setDarkMode = this.setDarkMode.bind(this);\n    this.setFolder = this.setFolder.bind(this);\n    this.setTemplatePath = this.setTemplatePath.bind(this);\n    this.writeUserSettings = this.writeUserSettings.bind(this);\n    this.state = {\n      leftPaneHidden: true,\n      hideWorkspaceRollup: true,\n      hideSettingsRollup: true,\n      accounts: [],\n      tutorialMode: true,\n      darkMode: 'true',\n      accountsPath: '/tmp',\n      accountsFile: 'accounts.json',\n      templatePath: '',\n      pdfPath: '/tmp/',\n      pdfFile: 'wallets.pdf',\n      pdfExists: false\n    };\n  }\n\n  componentWillMount() {\n    let self = this;\n    electron.ipcRenderer.on('read-user-settings-reply', function (event, arg) {\n      self.setState({\n        darkMode: arg.darkMode,\n        accountsFile: arg.accountsFile,\n        accountsPath: arg.accountsPath,\n        templatePath: arg.templatePath,\n        pdfPath: arg.pdfPath,\n        pdfFile: arg.pdfFile\n      });\n      console.log('updating user settings from file : ' + util.inspect(arg, {\n        depth: null\n      }));\n    });\n    electron.ipcRenderer.send('read-user-settings');\n  }\n\n  componentWillReceiveProps() {\n    console.log('userData :' + util.inspect(this.props.config, {\n      depth: null\n    }));\n  }\n\n  componentDidMount() {}\n\n  writeUserSettings() {\n    let settings = {\n      darkMode: this.state.darkMode,\n      accountsPath: this.state.accountsPath,\n      accountsFile: this.state.accountsFile,\n      pdfPath: this.state.pdfPath,\n      pdfFile: this.state.pdfFile,\n      templatePath: this.state.templatePath\n    };\n    electron.ipcRenderer.send('write-user-settings', settings);\n  }\n\n  async setFolder(folder) {\n    console.log('main setting folder: ' + folder);\n    await this.setState({\n      folder: folder\n    });\n    this.writeUserSettings();\n  }\n\n  async setTemplatePath(folder) {\n    console.log('main setting template folder: ' + folder);\n    await this.setState({\n      templatePath: folder\n    });\n    this.writeUserSettings();\n  }\n\n  async setAccounts(accounts, folder, filename) {\n    console.log('got accounts in main: ' + util.inspect(accounts, {\n      depth: null\n    }));\n    await this.setState({\n      accounts: accounts,\n      accounsPath: folder,\n      accountsFile: filename\n    });\n    this.writeUserSettings();\n  }\n\n  clearAccounts(accounts) {\n    console.log('clearing accounts: ' + this.state.accounts);\n    this.setState({\n      accounts: []\n    });\n  }\n\n  async setPdfPath(folder, file) {\n    console.log('setPdfPath(): ' + folder + file);\n    await this.setState({\n      pdfPath: folder + file,\n      pdfFile: file,\n      pdfExists: true\n    });\n    this.writeUserSettings();\n  }\n\n  async setDarkMode(e) {\n    // TODO Fix this it only works one way - from dark to light, can't return\n    console.log('darkMode: ' + e.target.checked);\n    await this.setState({\n      darkMode: e.target.checked\n    });\n    this.writeUserSettings();\n\n    if (e.target.checked) {\n      require('./style.css');\n    } else {\n      require('./style-light.css');\n    }\n  }\n\n  toggleVerticalNavRollup(rollup) {\n    if (rollup === 'workspace') {\n      this.setState({\n        hideWorkspaceRollup: !this.state.hideWorkspaceRollup\n      });\n    } else {\n      this.setState({\n        hideSettingsRollup: !this.state.hideSettingsRollup\n      });\n    }\n  }\n\n  leftPaneToggleHidden() {\n    this.setState({\n      leftPaneHidden: !this.state.leftPaneHidden\n    });\n  }\n\n  render() {\n    let headerContent = this.props.headerContent ? this.props.headerContent : React.createElement(HeaderControls, Object.assign({}, this.props, {\n      leftPaneToggleHidden: this.leftPaneToggleHidden,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })); // let leftPaneContent = this.props.leftPaneContent ? this.props.leftPaneContent : ''\n\n    let leftPaneContent = React.createElement(VerticalNav, {\n      hidden: this.state.leftPaneHidden,\n      hideWorkspaceRollup: this.state.hideWorkspaceRollup,\n      hideSettingsRollup: this.state.hideSettingsRollup,\n      toggleRollup: this.toggleVerticalNavRollup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }); // let leftPaneContent = <VerticalNav hidden={this.state.leftPaneHidden} hideWorkspaceRollup={this.state.hideWorkspaceRollup} hideSettingsRollup={this.state.hideSettingsRollup} toggleRollup={this.toggleVerticalNavRollup} />\n\n    let rightPaneContent = this.props.rightPaneContent ? this.props.rightPaneContent : '';\n    let footerContent = this.props.footerContent ? this.props.footerContent : React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }); // footerContent = 'footer footer footer'\n\n    if (this.props && this.props.location && this.props.location.pathname) {\n      // this.setState({templateFolder: this.props.config.userData+'/'})\n      // console.log(this.props.config.consoleBuffer)\n      rightPaneContent = React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      });\n\n      switch (this.props.location.pathname) {\n        case '/About':\n          rightPaneContent = React.createElement(About, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          });\n          break;\n\n        case '/Accounts':\n          rightPaneContent = React.createElement(Accounts, Object.assign({}, this.props, {\n            setAccounts: this.setAccounts,\n            accounts: this.state.accounts,\n            clearAccounts: this.clearAccounts,\n            accountsFile: this.state.accountsFile,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }));\n          break;\n\n        case '/Wallets':\n          rightPaneContent = React.createElement(Wallets, Object.assign({\n            accounts: this.state.accounts,\n            config: this.props.config\n          }, this.props, {\n            setPdfPath: this.setPdfPath,\n            setFolder: this.setFolder,\n            pdfExists: this.state.pdfExists,\n            templatePath: this.state.templatePath,\n            folder: this.state.pdfPath,\n            setTemplatePath: this.setTemplatePath,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }));\n          break;\n\n        case '/PDF':\n          rightPaneContent = React.createElement(PDF, Object.assign({\n            accounts: this.state.accounts,\n            config: this.props.config,\n            pdf: this.state.pdfPath\n          }, this.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }));\n          break;\n\n        case '/UploadHtmlTemplate':\n          rightPaneContent = React.createElement(UploadHtmlTemplateModal, Object.assign({\n            config: this.props.config,\n            folder: this.state.uploadFolder,\n            setUploadFolder: this.setUploadFolder\n          }, this.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          }));\n          break;\n\n        case '/CopyHtmlTemplate':\n          rightPaneContent = React.createElement(CopyHtmlTemplateModal, Object.assign({\n            config: this.props.config,\n            folder: this.state.tempaltePath,\n            setTemplateFolder: this.setTemplateFolder\n          }, this.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225\n            },\n            __self: this\n          }));\n          break;\n\n        case '/New':\n          rightPaneContent = React.createElement(New, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          });\n          break;\n\n        case '/Import':\n          rightPaneContent = React.createElement(Import, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233\n            },\n            __self: this\n          });\n          break;\n\n        case '/Export':\n          rightPaneContent = React.createElement(Export, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 237\n            },\n            __self: this\n          });\n          break;\n\n        case '/Report':\n          rightPaneContent = React.createElement(Report, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241\n            },\n            __self: this\n          });\n          break;\n\n        case '/Events':\n          rightPaneContent = React.createElement(Events, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 245\n            },\n            __self: this\n          });\n          break;\n\n        case '/Settings':\n          rightPaneContent = React.createElement(Settings, {\n            darkMode: this.state.darkMode,\n            setDarkMode: this.setDarkMode,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            },\n            __self: this\n          });\n          break;\n\n        case '/InstallerHome':\n          rightPaneContent = React.createElement(InstallerHome, {\n            config: this.props.config,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 253\n            },\n            __self: this\n          });\n          break;\n\n        default:\n          rightPaneContent = React.createElement(Home, Object.assign({}, this.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257\n            },\n            __self: this\n          }));\n      }\n    }\n\n    return React.createElement(\"div\", {\n      id: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, headerContent), React.createElement(\"div\", {\n      id: \"contentWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, !this.state.leftPaneHidden && React.createElement(\"div\", {\n      className: \"leftPaneContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, leftPaneContent), React.createElement(\"div\", {\n      className: \"rightPaneContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, rightPaneContent)), React.createElement(\"div\", {\n      id: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footerContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, footerContent)));\n  }\n\n}\n\nexport default AppMain;","map":{"version":3,"sources":["/home/fet/nwd/neo-burner/src/components/Ui/Main/Main.js"],"names":["React","Component","HeaderControls","VerticalNav","InstallerHome","Accounts","Wallets","About","New","Import","Export","Report","Events","Home","Settings","PDF","CopyHtmlTemplateModal","UploadHtmlTemplateModal","Footer","util","electron","window","require","AppMain","constructor","props","leftPaneToggleHidden","bind","toggleVerticalNavRollup","setAccounts","clearAccounts","setPdfPath","setDarkMode","setFolder","setTemplatePath","writeUserSettings","state","leftPaneHidden","hideWorkspaceRollup","hideSettingsRollup","accounts","tutorialMode","darkMode","accountsPath","accountsFile","templatePath","pdfPath","pdfFile","pdfExists","componentWillMount","self","ipcRenderer","on","event","arg","setState","console","log","inspect","depth","send","componentWillReceiveProps","config","componentDidMount","settings","folder","filename","accounsPath","file","e","target","checked","rollup","render","headerContent","leftPaneContent","rightPaneContent","footerContent","location","pathname","uploadFolder","setUploadFolder","tempaltePath","setTemplateFolder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport HeaderControls from '../HeaderControls/HeaderControls'\nimport VerticalNav from '../VerticalNav/VerticalNav'\n\nimport InstallerHome  from '../../Installer/Home'\n\nimport Accounts from '../../App/Accounts'\nimport Wallets from '../../App/Wallets'\nimport About from '../../App/About'\nimport New from '../../App/New'\nimport Import from '../../App/Import'\nimport Export from '../../App/Export'\nimport Report from '../../App/Report'\nimport Events from '../../App/Events'\nimport Home from '../../App/Home'\nimport Settings from '../../App/Settings'\nimport PDF from '../../App/PDF'\n\nimport CopyHtmlTemplateModal from '../../App/CopyHtmlTemplate'\nimport UploadHtmlTemplateModal from '../../App/UploadHtmlTemplate'\n\nimport Footer from '../../Ui/Main/Footer'\n\nimport util from 'util'\n\n// import './style.css'\n\nconst electron = window.require('electron')\n\nclass AppMain extends Component {\n  constructor(props) {\n    super(props)\n\n    this.leftPaneToggleHidden = this.leftPaneToggleHidden.bind(this)\n    this.toggleVerticalNavRollup = this.toggleVerticalNavRollup.bind(this)\n    this.setAccounts = this.setAccounts.bind(this)\n    this.clearAccounts = this.clearAccounts.bind(this)\n    this.setPdfPath = this.setPdfPath.bind(this)\n    this.setDarkMode = this.setDarkMode.bind(this)\n    this.setFolder = this.setFolder.bind(this)\n    this.setTemplatePath = this.setTemplatePath.bind(this)\n    this.writeUserSettings = this.writeUserSettings.bind(this)\n\n    this.state = {\n      leftPaneHidden: true,\n      hideWorkspaceRollup: true,\n      hideSettingsRollup: true,\n      accounts: [],\n      tutorialMode: true,\n      darkMode: 'true',\n      accountsPath: '/tmp',\n      accountsFile: 'accounts.json',\n      templatePath: '',\n      pdfPath: '/tmp/',\n      pdfFile: 'wallets.pdf',\n      pdfExists: false\n    }\n  }\n\n  componentWillMount() {\n    let self = this\n\n    electron.ipcRenderer.on('read-user-settings-reply', function (event, arg) {\n      self.setState({\n        darkMode: arg.darkMode,\n        accountsFile: arg.accountsFile,\n        accountsPath: arg.accountsPath,\n        templatePath: arg.templatePath,\n        pdfPath: arg.pdfPath,\n        pdfFile: arg.pdfFile\n      })\n      console.log('updating user settings from file : ' + util.inspect(arg, {depth: null}))\n    })\n\n    electron.ipcRenderer.send('read-user-settings')\n\n  }\n\n  componentWillReceiveProps() {\n    console.log('userData :'+util.inspect(this.props.config, {depth: null}))\n  }\n\n  componentDidMount() {\n  }\n\n  writeUserSettings() {\n    let settings = {\n      darkMode: this.state.darkMode,\n      accountsPath: this.state.accountsPath,\n      accountsFile: this.state.accountsFile,\n      pdfPath: this.state.pdfPath,\n      pdfFile: this.state.pdfFile,\n      templatePath: this.state.templatePath\n    }\n    electron.ipcRenderer.send('write-user-settings', settings)\n  }\n\n  async setFolder(folder) {\n    console.log('main setting folder: '+folder)\n    await this.setState({folder: folder})\n    this.writeUserSettings()\n  }\n\n  async setTemplatePath(folder) {\n    console.log('main setting template folder: '+folder)\n    await this.setState({templatePath: folder})\n    this.writeUserSettings()\n  }\n\n  async setAccounts(accounts, folder, filename) {\n    console.log('got accounts in main: '+util.inspect(accounts, {depth: null}))\n    await this.setState({\n      accounts: accounts,\n      accounsPath: folder,\n      accountsFile: filename\n    })\n\n    this.writeUserSettings()\n  }\n\n  clearAccounts(accounts) {\n    console.log('clearing accounts: '+this.state.accounts)\n    this.setState({\n      accounts: []\n    })\n  }\n\n  async setPdfPath(folder, file) {\n    console.log('setPdfPath(): '+folder+file)\n    await this.setState({\n      pdfPath: folder+file,\n      pdfFile: file,\n      pdfExists: true\n    })\n\n    this.writeUserSettings()\n  }\n\n  async setDarkMode(e) {\n    // TODO Fix this it only works one way - from dark to light, can't return\n    console.log('darkMode: '+e.target.checked)\n    await this.setState({ darkMode: e.target.checked })\n\n    this.writeUserSettings()\n\n    if (e.target.checked) {\n      require('./style.css')\n\n    } else {\n      require('./style-light.css')\n    }\n  }\n\n  toggleVerticalNavRollup(rollup) {\n    if(rollup === 'workspace') {\n      this.setState({\n        hideWorkspaceRollup: !this.state.hideWorkspaceRollup,\n      })\n    }\n    else {\n      this.setState({\n        hideSettingsRollup: !this.state.hideSettingsRollup,\n      })\n    }\n  }\n\n  leftPaneToggleHidden () {\n    this.setState({\n      leftPaneHidden: !this.state.leftPaneHidden\n    })\n  }\n\n  render() {\n    let headerContent = this.props.headerContent ? this.props.headerContent :\n      <HeaderControls {...this.props} leftPaneToggleHidden={this.leftPaneToggleHidden} />\n    // let leftPaneContent = this.props.leftPaneContent ? this.props.leftPaneContent : ''\n    let leftPaneContent = <VerticalNav hidden={this.state.leftPaneHidden} hideWorkspaceRollup={this.state.hideWorkspaceRollup} hideSettingsRollup={this.state.hideSettingsRollup} toggleRollup={this.toggleVerticalNavRollup} />\n    // let leftPaneContent = <VerticalNav hidden={this.state.leftPaneHidden} hideWorkspaceRollup={this.state.hideWorkspaceRollup} hideSettingsRollup={this.state.hideSettingsRollup} toggleRollup={this.toggleVerticalNavRollup} />\n    let rightPaneContent = this.props.rightPaneContent ? this.props.rightPaneContent : ''\n    let footerContent = this.props.footerContent ? this.props.footerContent : <Footer />\n    // footerContent = 'footer footer footer'\n\n    if (this.props && this.props.location && this.props.location.pathname) {\n\n      // this.setState({templateFolder: this.props.config.userData+'/'})\n\n      // console.log(this.props.config.consoleBuffer)\n      rightPaneContent = <Home />\n\n      switch(this.props.location.pathname) {\n\n        case '/About':\n        rightPaneContent = <About />\n        break\n\n        case '/Accounts':\n        rightPaneContent = <Accounts {...this.props}\n          setAccounts={this.setAccounts}\n          accounts={this.state.accounts}\n          clearAccounts={this.clearAccounts}\n          accountsFile={this.state.accountsFile}\n          />\n        break\n\n        case '/Wallets':\n        rightPaneContent = <Wallets accounts={this.state.accounts} config={this.props.config}\n         {...this.props} setPdfPath={this.setPdfPath}\n        setFolder={this.setFolder} pdfExists={this.state.pdfExists}\n        templatePath={this.state.templatePath}\n        folder={this.state.pdfPath}\n        setTemplatePath={this.setTemplatePath}\n        />\n        break\n\n        case '/PDF':\n        rightPaneContent = <PDF accounts={this.state.accounts} config={this.props.config} pdf={this.state.pdfPath}  {...this.props}/>\n        break\n\n        case '/UploadHtmlTemplate':\n        rightPaneContent = <UploadHtmlTemplateModal config={this.props.config} folder={this.state.uploadFolder} setUploadFolder={this.setUploadFolder} {...this.props}/>\n        break\n\n        case '/CopyHtmlTemplate':\n        rightPaneContent = <CopyHtmlTemplateModal config={this.props.config} folder={this.state.tempaltePath} setTemplateFolder={this.setTemplateFolder} {...this.props}/>\n        break\n\n        case '/New':\n        rightPaneContent = <New />\n        break\n\n        case '/Import':\n        rightPaneContent = <Import />\n        break\n\n        case '/Export':\n        rightPaneContent = <Export />\n        break\n\n        case '/Report':\n        rightPaneContent = <Report />\n        break\n\n        case '/Events':\n        rightPaneContent = <Events />\n        break\n\n        case '/Settings':\n        rightPaneContent = <Settings darkMode={this.state.darkMode} setDarkMode={this.setDarkMode}/>\n        break\n\n        case '/InstallerHome':\n          rightPaneContent = <InstallerHome config={this.props.config}/>\n        break\n\n        default:\n          rightPaneContent = <Home {...this.props} />\n      }\n    }\n\n    return (\n      <div id=\"wrapper\">\n         <div id=\"header\">\n           {headerContent}\n         </div>\n         <div id=\"contentWrapper\">\n           { !this.state.leftPaneHidden &&\n             <div className='leftPaneContent'>\n            { leftPaneContent }\n             </div>\n           }\n           <div className='rightPaneContent'>\n           {rightPaneContent}\n           </div>\n        </div>\n         <div id=\"footer\">\n            <div className='footerContent'>{footerContent}</div>\n         </div>\n       </div>\n    )\n  }\n}\n\nexport default AppMain\n"]},"metadata":{},"sourceType":"module"}