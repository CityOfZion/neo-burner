{"ast":null,"code":"var _jsxFileName = \"/home/fet/nwd/neo-burner/src/components/App/Wallets.js\";\nimport React, { Component } from 'react';\nimport { Jumbotron, Button, Form, FormGroup, Input, Container, ButtonGroup } from 'reactstrap';\nimport BurnerModal from '../Ui/Modal/Modal';\nimport FlashButton from '../Ui/FlashButton/FlashButton';\nimport fileDownload from 'js-file-download';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport PDF from './PDF.js';\nimport ReactToPrint from 'react-to-print';\nimport PrintTemplate from 'react-print';\nimport { QRCode } from 'react-qr-svg';\nimport { bip39 } from 'bip39';\nimport util from 'util';\n\nconst electron = window.require('electron');\n\nclass Wallets extends Component {\n  constructor(props) {\n    super(props);\n    this.goToAccounts = this.goToAccounts.bind(this);\n    this.createPdf = this.createPdf.bind(this);\n    this.viewPdf = this.viewPdf.bind(this);\n    this.customizePdf = this.customizePdf.bind(this); // this.currentModalBody = this.currentModalBody.bind(this)\n\n    this.customizePdfModal = this.customizePdfModal.bind(this);\n    this.state = {\n      folder: '/tmp',\n      filename: 'wallets.pdf',\n      generatingPdf: false,\n      pdfExists: false,\n      currentModal: this.customizePdfModal,\n      nextButtonText: 'Next',\n      nextModalClick: '',\n      cancelButtonText: 'Cancel',\n      cancelModalClick: '',\n      modalBody: ''\n    };\n  }\n\n  componentDidMount() {\n    // console.log('accountsPath: '+util.inspect(this.props.config, {depth: null}))\n    this.setState({\n      folder: this.props.folder,\n      pdfExists: this.props.state.pdfExists\n    });\n    electron.ipcRenderer.on('pdf-created', (event, arg) => {\n      console.log('ipc pdf-created');\n      this.props.setPdfPath(this.state.folder + '/', this.state.filename);\n      this.state.generatingPdf = false;\n      this.state.pdfExists = true;\n      this.props.history.push('Wallets');\n    });\n  }\n\n  goToAccounts() {\n    this.props.history.push('Accounts');\n  }\n\n  createPdf() {\n    this.state.generatingPdf = true;\n    this.props.history.push('Wallets'); // this.props.history.push('PDF')\n\n    window.ipcRenderer.send('create-pdf', {\n      path: this.state.folder + '/',\n      filename: this.state.filename,\n      data: this.props.accounts\n    });\n    console.log('wallet folder: ' + this.state.folder + '/' + this.state.filename);\n  }\n\n  viewPdf() {\n    this.props.history.push('PDF');\n  }\n\n  customizePdf() {\n    this.props.history.push('CustomizePdf');\n  }\n\n  nextModal() {\n    console.log('nextClick');\n  }\n\n  downloadTemplateModal() {}\n\n  customizePdfModal() {\n    return React.createElement(BurnerModal, {\n      buttonLabel: \"Customize PDF\",\n      color: \"warning\",\n      onClick: this.customizePdf,\n      nextButtonText: 'Next',\n      cancelButtonText: 'Cancel',\n      onNextClick: this.nextModal,\n      title: 'Upload HTML Template',\n      body: this.uploadHtmlBody(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    });\n  }\n\n  uploadHtmlModalBody() {\n    return React.createElement(\"div\", {\n      id: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Please select a custom HTML template to replace the default.\", React.createElement(Container, {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Form, {\n      id: \"modalFormLeft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"upload_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      directory: \"\",\n      type: \"file\",\n      id: \"ma\",\n      onChange: e => this.setState({\n        folder: document.getElementsByTagName('input')[0].files[0].path\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Choose Path\"), ' ' + this.state.folder)), React.createElement(Input, {\n      style: {\n        width: \"200px\"\n      },\n      type: \"text\",\n      name: \"text\",\n      placeholder: \"File Name\",\n      value: this.state.filename,\n      onChange: e => this.setState({\n        filename: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })))));\n  }\n\n  render() {\n    if (this.props.accounts.length) {\n      console.log('got ' + this.props.accounts.length + ' accounts');\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        className: \"vertical-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container hero-container text-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Wallets \"), React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Found \", this.props.accounts.length, \" accounts.\"), React.createElement(\"hr\", {\n        className: \"my-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"lead mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"p-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Form, {\n        id: \"accountsFormLeft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"upload_button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        directory: \"\",\n        webkitdirectory: \"\",\n        type: \"file\",\n        id: \"ma\",\n        onChange: e => this.setState({\n          folder: document.getElementsByTagName('input')[0].files[0].path\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Choose Path\"), ' ' + this.state.folder)), React.createElement(Input, {\n        style: {\n          width: \"400px\"\n        },\n        type: \"text\",\n        name: \"text\",\n        placeholder: \"File Name\",\n        value: this.state.filename,\n        onChange: e => this.setState({\n          filename: e.target.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      })), React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(FlashButton, {\n        buttonLabel: \"Create PDF\",\n        title: 'Burn Notice',\n        message: 'Please wait while a PDF containing ' + this.props.accounts.length + ' wallets is being generated at ' + this.state.folder + '/' + this.state.filename,\n        open: this.state.generatingPdf,\n        onClick: this.createPdf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), this.state.currentModal(), ' ', React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), this.state.pdfExists ? React.createElement(Button, {\n        onClick: this.viewPdf,\n        color: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"View PDF\") : '')))))));\n    } else {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        className: \"vertical-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container hero-container text-center\",\n        id: \"ma\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Wallets \"), React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Found \", this.props.accounts.length, \" accounts.\"), React.createElement(\"hr\", {\n        className: \"my-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"lead mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: this.goToAccounts,\n        color: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Go To Accounts\"))));\n    }\n  }\n\n}\n\nexport default Wallets;","map":{"version":3,"sources":["/home/fet/nwd/neo-burner/src/components/App/Wallets.js"],"names":["React","Component","Jumbotron","Button","Form","FormGroup","Input","Container","ButtonGroup","BurnerModal","FlashButton","fileDownload","PDFDownloadLink","PDF","ReactToPrint","PrintTemplate","QRCode","bip39","util","electron","window","require","Wallets","constructor","props","goToAccounts","bind","createPdf","viewPdf","customizePdf","customizePdfModal","state","folder","filename","generatingPdf","pdfExists","currentModal","nextButtonText","nextModalClick","cancelButtonText","cancelModalClick","modalBody","componentDidMount","setState","ipcRenderer","on","event","arg","console","log","setPdfPath","history","push","send","path","data","accounts","nextModal","downloadTemplateModal","uploadHtmlBody","uploadHtmlModalBody","e","document","getElementsByTagName","files","width","target","value","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Jumbotron, Button, Form, FormGroup, Input, Container, ButtonGroup } from 'reactstrap'\nimport BurnerModal from '../Ui/Modal/Modal'\nimport FlashButton from '../Ui/FlashButton/FlashButton'\n\n\nimport fileDownload from 'js-file-download'\nimport { PDFDownloadLink } from '@react-pdf/renderer'\n\nimport PDF from './PDF.js'\n\nimport ReactToPrint from 'react-to-print'\nimport PrintTemplate from 'react-print'\n\nimport { QRCode } from 'react-qr-svg'\nimport { bip39 } from 'bip39'\n\nimport util from 'util'\n\nconst electron = window.require('electron')\n\nclass Wallets extends Component {\n  constructor(props) {\n    super(props)\n\n    this.goToAccounts = this.goToAccounts.bind(this)\n    this.createPdf = this.createPdf.bind(this)\n    this.viewPdf = this.viewPdf.bind(this)\n    this.customizePdf = this.customizePdf.bind(this)\n    // this.currentModalBody = this.currentModalBody.bind(this)\n    this.customizePdfModal = this.customizePdfModal.bind(this)\n\n    this.state = {\n      folder: '/tmp',\n      filename: 'wallets.pdf',\n      generatingPdf: false,\n      pdfExists: false,\n      currentModal: this.customizePdfModal,\n      nextButtonText: 'Next',\n      nextModalClick: '',\n      cancelButtonText: 'Cancel',\n      cancelModalClick: '',\n      modalBody: ''\n    }\n  }\n\n  componentDidMount() {\n    // console.log('accountsPath: '+util.inspect(this.props.config, {depth: null}))\n    this.setState({ folder: this.props.folder, pdfExists: this.props.state.pdfExists })\n\n    electron.ipcRenderer.on('pdf-created', (event, arg) => {\n      console.log('ipc pdf-created')\n      this.props.setPdfPath(this.state.folder+'/', this.state.filename)\n      this.state.generatingPdf = false\n      this.state.pdfExists = true\n      this.props.history.push('Wallets')\n    })\n  }\n\n  goToAccounts() {\n    this.props.history.push('Accounts')\n  }\n\n  createPdf() {\n    this.state.generatingPdf = true\n    this.props.history.push('Wallets')\n    // this.props.history.push('PDF')\n    window.ipcRenderer.send('create-pdf', { path: this.state.folder+'/', filename: this.state.filename, data: this.props.accounts })\n    console.log('wallet folder: '+this.state.folder+'/'+this.state.filename)\n  }\n\n  viewPdf() {\n    this.props.history.push('PDF')\n  }\n\n  customizePdf() {\n    this.props.history.push('CustomizePdf')\n  }\n\n  nextModal() {\n    console.log('nextClick')\n  }\n\n  downloadTemplateModal() {\n\n  }\n\n  customizePdfModal() {\n\n    return (\n\n      <BurnerModal buttonLabel='Customize PDF' color=\"warning\"\n        onClick={this.customizePdf}\n        nextButtonText={'Next'}\n        cancelButtonText={'Cancel'}\n        onNextClick={this.nextModal}\n        title={'Upload HTML Template'}\n        body={ this.uploadHtmlBody() }\n      />\n    )\n  }\n\n  uploadHtmlModalBody() {\n    return (\n      <div id=\"\">\n        Please select a custom HTML template to replace the default.\n        <Container className=\"p-5\" >\n          <Form id=\"modalFormLeft\">\n            <FormGroup>\n              <div id=\"upload_button\">\n                <label>\n                  <input directory=\"\" type=\"file\" id=\"ma\"\n                    onChange={e => this.setState({ folder: document.getElementsByTagName('input')[0].files[0].path })}\n                  />\n                  <span class=\"btn btn-primary\">Choose Path</span>\n                  {' '+this.state.folder}\n                </label>\n              </div>\n              <Input\n                style={{width: \"200px\"}}\n                type=\"text\"\n                name=\"text\"\n                placeholder=\"File Name\"\n                value={this.state.filename}\n                onChange={e => this.setState({ filename: e.target.value })}\n              />\n            </FormGroup>\n          </Form>\n        </Container>\n      </div>\n    )\n  }\n\n  render() {\n    if (this.props.accounts.length) {\n      console.log('got '+this.props.accounts.length+' accounts')\n      return(\n        <React.Fragment>\n          <Jumbotron className=\"vertical-center\" id=\"ma\">\n          <div className=\"container hero-container text-center\" id=\"ma\">\n            <h1 className=\"display-4\">Wallets </h1>\n            <p className=\"lead\">Found {this.props.accounts.length} accounts.</p>\n            <hr className=\"my-4\" />\n            <p className=\"lead mx-auto\">\n              <Container className=\"p-5\">\n                <Form id=\"accountsFormLeft\">\n                  <FormGroup>\n                    <div id=\"upload_button\">\n                      <label>\n                        <input directory=\"\" webkitdirectory=\"\" type=\"file\" id=\"ma\"\n                          onChange={e => this.setState({ folder: document.getElementsByTagName('input')[0].files[0].path })}\n                          />\n                        <span class=\"btn btn-primary\">Choose Path</span>\n                        {' '+this.state.folder}\n                      </label>\n                    </div>\n                    <Input\n                      style={{width: \"400px\"}}\n                      type=\"text\"\n                      name=\"text\"\n                      placeholder=\"File Name\"\n                      value={this.state.filename}\n                      onChange={e => this.setState({ filename: e.target.value })}\n                    />\n                  </FormGroup>\n                  <ButtonGroup>\n                  <FlashButton buttonLabel='Create PDF' title={'Burn Notice'} message={'Please wait while a PDF containing '+this.props.accounts.length+' wallets is being generated at '+this.state.folder+'/'+this.state.filename} open={this.state.generatingPdf} onClick={this.createPdf}/>\n\n                  {this.state.currentModal()}\n                  {' '}\n                  <br/>\n                  {this.state.pdfExists ? <Button onClick={this.viewPdf} color=\"warning\" >View PDF</Button> : ''}\n                  </ButtonGroup>\n                </Form>\n              </Container>\n            </p>\n          </div>\n          </Jumbotron>\n        </React.Fragment>\n      )\n    } else {\n      return(\n        <React.Fragment>\n          <Jumbotron className=\"vertical-center\" id=\"ma\">\n          <div className=\"container hero-container text-center\" id=\"ma\">\n            <h1 className=\"display-4\">Wallets </h1>\n            <p className=\"lead\">Found {this.props.accounts.length} accounts.</p>\n            <hr className=\"my-4\" />\n            <p className=\"lead mx-auto\">\n            </p>\n            <Button onClick={this.goToAccounts} color=\"warning\" >Go To Accounts</Button>\n          </div>\n          </Jumbotron>\n        </React.Fragment>\n      )\n    }\n  }\n}\nexport default Wallets\n"]},"metadata":{},"sourceType":"module"}